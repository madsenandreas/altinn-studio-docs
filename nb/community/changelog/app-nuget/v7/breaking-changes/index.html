<!DOCTYPE html>
<html lang="nb" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Oversikt over breaking changes introdusert i App Nuget-pakker i v7.0.0." />
<meta name="altinn_pagedir" class="elastic" content="community\changelog\app-nuget\v7\breaking-changes\" />
<meta name="altinn_title" class="elastic" content="Breaking changes" />

<title>Breaking changes – Altinn</title><link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
    <link href="/css/nucleus.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/hybrid.css" rel="stylesheet">
    <link href="/css/horsey.css" rel="stylesheet">
    <link href="/css/fortawesome.css" rel="stylesheet">
    <link href="/css/designsystem.css" rel="stylesheet"><link href="/css/theme.css" rel="stylesheet"><script src="/js/jquery-2.x.min.js"></script>
<link href="/css/custom.css" rel="stylesheet">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114303148-1"></script>
<script>
var host = window.location.hostname;
if(host != "localhost")
{
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114303148-1', { 'anonymize_ip': true });
}
</script><style>
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>
  </head>
  <body class="a-page" data-url="/nb/community/changelog/app-nuget/v7/breaking-changes/"><nav class="a-jumpnav">
  <ul class="no-decoration d-flex">
    <li><a class="sr-only sr-only-focusable" href="#content">Hopp til hovedinnholdet</a></li><li><a class="sr-only sr-only-focusable" href="#docsmenu">Hopp til hovedmeny</a></li></ul>
</nav>

<header class="a-header ">
  
  <div class="container">
    <div class="row">
      <div class="col-12">

        
        <nav class="a-globalNav " id="primary-nav">
          <a href="/nb/" class="a-globalNav-logo">
            <img src="/images/altinnstudio-logo-white.svg" alt="Altinn Studio logo" class="adocs-logo">
            <span class="sr-only">Til forsiden</span>
          </a>

          <button class="navbar-toggler d-md-none" type="button"><span class="sr-only">Vis/skjul meny</span></button>
          <div class="collapse navbar-toggleable-sm a-globalNav-main" id="exCollapsingNavbar2">
            <ul id="exCollapsingNavbar">
              <li class="d-md-none dropdown"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  Language
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle"><a aria-hidden="true" class="dropdown-item" href="/community/changelog/app-nuget/v7/breaking-changes/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br><span>Most content is available in english.</span></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/nb/community/changelog/app-nuget/v7/breaking-changes/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål ✓</span><br><span>Noe innhold er tilgjengelig på bokmål.</span></p>
    </a></div>
</li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/app/">apps</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/api/">api</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline" href="/nb/community/">community</a>
              </li>
              <li>
                <a class="a-nav-link a-hvr-underline " href="/nb/technology/">tech</a>
              </li>
            </ul>
          </div>

        </nav> 
        <ul class="nav nav-pills a-header-options" id="nav-list">
          <li class="nav-item dropdown d-none d-md-block"><a class="nav-link dropdown-toggle a-languageSwitcher" aria-expanded="false" data-toggle="dropdown" aria-haspopup="true" href="#">
  Language
</a>
<div class="dropdown-menu a-dropdown-languages a-dropdownTriangle"><a aria-hidden="true" class="dropdown-item" href="/community/changelog/app-nuget/v7/breaking-changes/">
      <img src="/images/en.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">English</span><br><span>Most content is available in english.</span></p>
    </a><a aria-hidden="true" class="dropdown-item" href="/nb/community/changelog/app-nuget/v7/breaking-changes/">
      <img src="/images/nb.svg" class="a-iconLeft a-flag" alt="" />
      <p>
        <span class="a-h3">Bokmål ✓</span><br><span>Noe innhold er tilgjengelig på bokmål.</span></p>
    </a></div>
</li>
        </ul>
      </div>
    </div> 
  </div> 
</header>
<div class="container pt-2 pt-md-3 pt-lg-5">
      <div class="adocs-scrollcontainer">
        <div class="row">
            <div class="col-sm-12"><nav id="sidebar" class=""><div class="highlightable">
    <div id="header-wrapper"><div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Søk...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script src="/js/lunr.min.js"></script>
<script src="/js/horsey.js"></script>
<script>
    var baseurl = "https:\/\/docs.altinn.studio\/";
    var language = "nb";
</script>
<script src="https://cdn.jsdelivr.net/npm/@elastic/app-search-javascript@8.4.1/dist/elastic_app_search.umd.min.js" integrity="sha256-lBVStH8hKdQM2xGo2BvLryEDqp8BXg86ABbUByBvZrk=" crossorigin="anonymous"></script>
<script src="/js/search.js"></script></div>
    <ul id="docsmenu" class="topics">
      <li class="dd-item">
        <a href="/nb/app/"><span>Lage apper</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/"><span>Kom i gang</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/intro/"><span>Introduksjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/first-time-setup/"><span>Opprette bruker</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/dashboard/"><span>Dashboard</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/copy-app/"><span>Kopier app</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/create-app/"><span>Opprette app</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/migrate-services/"><span>Migrere tjenester</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/"><span>Navigasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/designer/"><span>Designer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/designer/ui-editor/"><span>UI editor</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/repos/"><span>Repos</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/navigation/code/"><span>Code</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/"><span>Tilganger</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/access-management/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/getting-started/local-dev/"><span>Lokal utvikling</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/"><span>Introkurs</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/case/"><span>Case</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul1/"><span>Modul 1</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul2/"><span>Modul 2</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul3/"><span>Modul 3</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul4/"><span>Modul 4</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul5/"><span>Modul 5</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul6/"><span>Modul 6</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/modul7/"><span>Modul 7</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/app-dev-course/losningsforslag/"><span>Løsningsforslag</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/design/"><span>Design</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/insight/"><span>Innsiktsfase</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/prototype/"><span>Prototype</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/usertest/"><span>Brukertest</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/"><span>Retningslinjer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/design-principles/"><span>Designprinsipper</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/link-to-app/"><span>Inngang til skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/content/"><span>Innhold i skjema</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/consistency/"><span>Konsistens</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/"><span>UI-komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/title-and-paragraph/"><span>Tittel og avsnitt</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/button/"><span>Knapp og lenke</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/input/"><span>Input</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/date/"><span>Dato</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/checkbox/"><span>Avkrysningsboks</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/radiobutton/"><span>Radioknapp</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/select/"><span>Nedtrekksliste</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/helptext/"><span>Hjelpetekst</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/error-message/"><span>Feilmeldinger</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/file-upload/"><span>Filopplasting</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/components/picture-component/"><span>Bilde</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/tone-of-voice/"><span>Språk</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/design/guidelines/wcag/"><span>Tilgjengelighet</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/"><span>Utvikling</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/"><span>Data</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/prefill/"><span>Preutfylling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/prefill/config/"><span>Konfigurasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/prefill/custom/"><span>Egendefinert</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/prefill/instantiation/"><span>Http post</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/"><span>Datamodell</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/data-models-tool/"><span>Datamodellering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/app-datamodels/"><span>Apper</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/org-datamodels/"><span>Organisasjoner</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/altinn-2/"><span>Altinn 2</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/known-issues/"><span>Kjente feil</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/data-model/seres-migration/"><span>Sereserstatning</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/options/"><span>Kodelister</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/data/attachments/"><span>Vedlegg</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/"><span>Brukergrensesnitt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/"><span>Komponenter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/multipleselect/"><span>MultipleSelect</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/panel/"><span>Panel</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/printbutton/"><span>PrintButton</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/likert/"><span>Likert</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/components/listcomponent/"><span>Listekomponent</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/"><span>Sider</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/navigation/"><span>Navigasjon</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/tracks/"><span>Sporvalg</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/summary/"><span>Oppsummering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pages/layout-sets/"><span>Flere skjema</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/"><span>Felter</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/"><span>Gruppering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/setup/"><span>Oppsett</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/repeating/"><span>Repeterende</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/grouping/alternatives/"><span>Innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/fields/settings/"><span>Innstillinger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/footer/"><span>Bunntekst</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/styling/"><span>Styling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/images/"><span>Bilder</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/texts/"><span>Tekster</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/texts/translation/"><span>Oversettelse av tekster</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pdf/"><span>PDF</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/ux/pdf/local-development/"><span>Local development</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/ux/widgets/"><span>Widgets</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/"><span>Logikk</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/logic/events/"><span>App Events</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/logic/events/subscribing/"><span>Subscribing</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/generic/"><span>Generelt</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/services/"><span>Tjenester</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/dataprocessing/"><span>Dataprosessering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/dynamic/"><span>Dynamikk</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/instantiation/"><span>Instansiering</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/calculation/"><span>Kalkuleringer</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/expressions/"><span>Uttrykk</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/logic/validation/"><span>Validering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/"><span>Konfigurasjon</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/"><span>Meldingsboks</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/presentationfields/"><span>Presentasjonsfelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/messagebox/hide_instances/"><span>Skjule instanser</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/"><span>Autorisasjon</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/rules/"><span>Regelbibliotek</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/"><span>Veiledning</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/roles_and_rights/"><span>Roller</span><i class="fa fa-sort-down fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/"><span>Altinn Roller</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_administration/"><span>Administrator roller</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_persons/"><span>Personroller</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/roles_and_rights/roles_altinn/altinn_roles_enterprices/"><span>Virksomhetsroller</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/roles_and_rights/roles_er/"><span>ER-Roller</span></a></li><li class="dd-item">
          <a href="/nb/app/development/configuration/authorization/guidelines_authorization/roles_and_rights/roles_ske/">
            <span>SKE-roller</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authorization/guidelines_authorization/test_authorization_application/"><span>Testing</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/partytype/"><span>Aktørtyper</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/datafields/"><span>Datafelter</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/"><span>Prosess</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/auto-delete/"><span>Automatisk sletting</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/pre-post-hooks/"><span>Definer egendefinerte prosess hooks</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/exclusive-gateways/"><span>Exclusive Gateways</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/message/"><span>Melding</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/process/customize/"><span>Tilpasse visninger</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/queryparameters/"><span>Query parametere</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/secrets/"><span>Secrets</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/eformidling/"><span>eFormidling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/events/"><span>Events</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/settings/"><span>Settings</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/startup/"><span>Startup</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/stateless/"><span>Stateless</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/deployment/"><span>Deployment</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/configuration/authentication/"><span>Autentisering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/"><span>API</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/development/api/expose/"><span>Eksponere</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/instance/"><span>Instans</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/development/api/consume/"><span>Konsumere</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/"><span>Testing</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/"><span>Lokalt</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/"><span>API tests</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/org/"><span>Org</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/apitests/user/"><span>Sluttbruker</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/debug/"><span>Debugging</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/testing/local/testusers/"><span>Testbrukere</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/testing/deploy/"><span>I testmiljø</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/monitoring/"><span>Monitorering</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/monitoring/prerequisites/"><span>Forutsetninger</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/monitoring/faq/"><span>FAQ</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/monitoring/references/"><span>Ressurser</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/deployment/"><span>Produksjonssetting</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/"><span>Kjøremiljø</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/resource-allocation/"><span>Ressurserfordeling</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/deployment/runtime-environment/resource-allocation-tips/"><span>Tips til ressurserfordeling</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/maintainance/"><span>Vedlikehold</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/maintainance/dependencies/"><span>Avhengigheter</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/"><span>Lanserte tjenester</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/"><span>Digdir</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/bli-tjenesteeier/"><span>Bli tjenesteeier</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/godkjenn-bruksvilkaar/"><span>Godkjenn bruksvilkår</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/oed/"><span>Oppgjør etter dødsfall</span></a></li>
      <li class="dd-item">
        <a href="/nb/app/launched-apps/digdir/be-om-api-nokkel/"><span>Tilgang til REST API</span></a></li></ul></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/"><span>API</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/"><span>App</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/metadata/"><span>Metadata</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/instances/"><span>Instanser</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/data-elements/"><span>Data-elementer</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/apps/data-elements/tags/"><span>Tags</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/apps/stateless-data-elements/"><span>Tilstandsløse data</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/process/"><span>Prosess</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/validation/"><span>Validering</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/apps/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/"><span>Authentication</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/authentication/maskinporten/"><span>Maskinporten</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/enterpriseuser/"><span>Virksomhetsbruker</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/id-porten/"><span>ID-porten</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/delegate-scopes/"><span>Delegere API-tilganger</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/authentication/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/events/"><span>Events</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/events/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/models/"><span>Modeller</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/models/app-metadata/"><span>App metadata</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/models/instance/"><span>Instance</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/models/data-element/"><span>DataElement</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/scenarios/"><span>Scenarier</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/scenarios/authentication/"><span>Autentisering</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/storage/"><span>Storage</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/api/storage/instances/"><span>Instanser</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/storage/instance-events/"><span>Instance events</span></a></li>
      <li class="dd-item">
        <a href="/nb/api/storage/spec/"><span>OpenAPI</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/api/studio/"><span>Studio</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/"><span>Community</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/about/"><span>Om</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/about/open-source/"><span>Åpen kildekode</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/about/goals/"><span>Mål</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/"><span>Bidra til utvikling</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/contributing/propose-component/"><span>Foreslå en ny komponent</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/develop-component/"><span>Utvikle en komponent</span></a></li><li class="dd-item">
          <a href="/nb/community/contributing/intro/">
            <span>Intro for utviklere</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/contributing/handbook/"><span>Håndbok</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/"><span>Endringslogg</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/"><span>App frontend</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-frontend/v3/whats-new/"><span>Hva er nytt?</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/"><span>App nuget</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v7/"><span>v7</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v7/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v7/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/"><span>v6</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v6/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/"><span>v5</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v5/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/"><span>v4</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v4/whats-new/"><span>Hva er nytt?</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/"><span>v3</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/app-nuget/v3/whats-new/"><span>Hva er nytt?</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/"><span>Deployment</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/migration/"><span>Migrering</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/"><span>v1</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v1/whats-new/"><span>Hva er nytt</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/"><span>v2</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/breaking-changes/"><span>Breaking changes</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/deployment/v2/whats-new/"><span>Hva er nytt</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/"><span>Storage Interface</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/v3/"><span>v3</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/changelog/storage-interfaces/v2/"><span>v2</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/roadmap/"><span>Roadmap</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/"><span>DevOps</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/devops/definition-of-ready/"><span>Definition of Ready</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/roadmapprocess/"><span>Roadmap prosess</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/"><span>Teams</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/apps/"><span>Apps</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/authorization/"><span>Autorisasjon</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/authorization/designfrontendprocess/"><span>Desgin/Frontend prosess</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/platform/"><span>Platform</span></a></li>
      <li class="dd-item">
        <a href="/nb/community/devops/teams/studio/"><span>Studio</span></a></li></ul></li></ul></li>
      <li class="dd-item">
        <a href="/nb/community/presentations/"><span>Presentasjoner</span></a></li></ul></li>
      <li class="dd-item">
        <a href="/nb/technology/"><span>Teknologi</span><i class="fa fa-caret-right fa-lg category-icon"></i></a><ul>
      <li class="dd-item">
        <a href="/nb/technology/solutions/"><span>Løsningene</span></a></li></ul></li></ul>
  </div>
</nav>

<script>
          $("li.dd-item a[href='/nb/community/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/community/changelog/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/community/changelog/app-nuget/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/community/changelog/app-nuget/v7/']").parent().addClass("parent");
 $("li.dd-item a[href='/nb/community/changelog/app-nuget/v7/breaking-changes/']").parent().addClass("active");
        </script>
        <section id="body">
          <div id="content" class="adocs-content js-moveChildrenTo">
        <div id="overlay"></div>
        <div class="a-text"><div id="top-bar">
            <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span" class="adocs-sidebarToggle">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                    <span class="sr-only">Vis/skjul meny</span>
                  </a>
                </span>
                <span class="links"><a href='/nb/community/'>Community</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/community/changelog/'>Endringslogg</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/community/changelog/app-nuget/'>App nuget</a> <span class='adocs-breadcrumb-divider'> / </span> <a href='/nb/community/changelog/app-nuget/v7/'>v7</a> <span class='adocs-breadcrumb-divider'> / </span> Breaking changes</span>
            </div>
          </div><div id="tags"><a class="label label-default" href="https://docs.altinn.studio/tags/translate-to-norwegian">translate-to-norwegian</a></div><div id="body-inner"><h1 class="a-fontBold">Breaking changes</h1>
              <p class="a-leadText" id="leadText">Oversikt over breaking changes introdusert i App Nuget-pakker i v7.0.0.</p><div class="notices warning" >If your application still is on version v5 or lower you should read the breaking changes guides until your application is updated to v6.</div>
<h2 id="updating-altinnapp-packagereferences-from-v6-to-v7">Updating Altinn.App.* PackageReferences from v6 to v7</h2>
<p>As mentioned <a href="../">here</a> we have moved the code around and reduced the number of nugets to two.</p>
<p>To upgrade from v6 nuget to v7 nugets the Altinn.App.* PackageReferences in <code>App/App.csproj</code> needs to be changed from:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;ItemGroup&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;6.0.2&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;CopyToOutputDirectory&gt;</span>lib\$(TargetFramework)\*.xml<span style="color:#ff79c6">&lt;/CopyToOutputDirectory&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/PackageReference&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Common&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;6.0.2&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.PlatformServices&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;6.0.2&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">&lt;!-- Additional PackageReferences --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/ItemGroup&gt;</span>
</span></span></code></pre></div><p>to</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;ItemGroup&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Api&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;7.0.0&#34;</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ff79c6">&lt;CopyToOutputDirectory&gt;</span>lib\$(TargetFramework)\*.xml<span style="color:#ff79c6">&lt;/CopyToOutputDirectory&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;/PackageReference&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&lt;PackageReference</span> <span style="color:#50fa7b">Include=</span><span style="color:#f1fa8c">&#34;Altinn.App.Core&#34;</span> <span style="color:#50fa7b">Version=</span><span style="color:#f1fa8c">&#34;7.0.0&#34;</span> <span style="color:#ff79c6">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">&lt;!-- Additional PackageReferences --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">&lt;/ItemGroup&gt;</span>
</span></span></code></pre></div><p>Once you or your IDE has completed the <code>dotnet restore</code> process your code will have multiple compilation warnings.
Work your way through the rest of this page and you will remove them one at a time.</p>
<h2 id="upgrading-programcs">Upgrading Program.cs</h2>
<p>It&rsquo;s highly recommended to follow the migration guide to <a href="../../v6/breaking-changes/">v6</a> if your application still hasn&rsquo;t been upgraded to v6 from v4 or v5.</p>
<p>In previous versions Altinn provided code and registration of custom/override services which were hard to separate.
As an attempt to make it easier to see customer provided services, we have extracted most of our code and introduced a new method at the top of Program.cs</p>
<p>Steps:</p>
<ol>
<li>Identify the custom services your application has registered in Program.cs. Take a note of these as we will have to register them again later.</li>
<li>Copy and paste the version 7 of Program.cs from our template at <a href="https://github.com/Altinn/app-template-dotnet/blob/main/src/App/Program.cs">altinn/app-template-dotnet</a> into your <code>App/Program.cs</code> (replacing existing code)</li>
<li>Register your apps custom services from step 1 in the method <code>RegisterCustomAppServices</code></li>
</ol>
<h2 id="replacing-or-upgrading-old-classes-to-implement-new-interfaces">Replacing or upgrading old classes to implement new Interfaces</h2>
<h3 id="upgrade-and-register-dataprocessinghandler">Upgrade and register DataProcessingHandler</h3>
<p>Custom logic while performing DataWrite or DataRead are from v7 handled by registering a service class implementing <code>Altinn.App.Core.Features.DataProcessing.IDataProcessor</code></p>
<p>If your <code>App/logic/DataProcessing/DataProcessingHandler.cs</code> is similar to the following code, you can delete the file and move on <a href="#replace-instantiationhandlercs-and-register-new-service">Replace InstantiationHandler.cs and register new service</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">DataProcessingHandler</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataRead(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult(<span style="color:#ff79c6">false</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataWrite(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult(<span style="color:#ff79c6">false</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If you have custom code in this class complete the steps below:</p>
<ol>
<li>Create a new class named <code>DataProcessor</code> in the folder <code>App/logic/DataProcessing</code>, make the class implement the interface  <code>Altinn.App.Core.Features.IDataProcessor</code>. The file should now look something like this:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System;
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">DataProcessor</span> : IDataProcessor
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>     <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataRead(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>     <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; ProcessDataWrite(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>     {
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div>Note that you might have to add the async keyword if they aren&rsquo;t added by default. You only need to add them if you do async calls within your code.</li>
<li>Move your code from the file <code>App/logic/DataProcessing/DataProcessingHandler.cs</code> to the file you just created.</li>
<li>Register <code>DataProcessor</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IDataProcessor, DataProcessor&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usings. (In VSC you should be able to use Ctrl + . (windows-version with C# plugin installed) to get using-suggestions)</li>
<li>Delete the old DataProcessingHandler.cs file</li>
</ol>
<h3 id="replace-instantiationhandlercs-and-register-new-service">Replace InstantiationHandler.cs and register new service</h3>
<p>The logic that previously was defined in <code>App/logic/InstantiationHandler.cs</code> is now defined by implementing two interfaces</p>
<ul>
<li><code>IInstantiationProcessor</code> is used to do custom data/instance manipulation during instantiation. Replaces the method <code>DataCreation</code> in <code>InstantiationHandler</code></li>
<li><code>IInstantiationValidator</code> is used to do custom validation during Instantiation. Replaces the method <code>RunInstantiationValidation</code> in <code>InstantiationHandler</code></li>
</ul>
<p>If your <code>App/logic/InstantiationHandler.cs</code> looks like the code below, you have no custom code here and can delete the class now and move on to <a href="#upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Services.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Services.Models.Validation;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationHandler</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">private</span> IProfile _profileService;
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">private</span> IRegister _registerService;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> InstantiationHandler(IProfile profileService, IRegister registerService)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            _profileService = profileService;
</span></span><span style="display:flex;"><span>            _registerService = registerService;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;InstantiationValidationResult&gt; RunInstantiationValidation(Instance instance)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult((InstantiationValidationResult)<span style="color:#ff79c6">null</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task DataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If you have custom code in the method <code>DataCreation</code> complete these steps:</p>
<ol>
<li>Create a new Class named <code>InstantiationProcessor.cs</code> in <code>App/logic/DataProcessing</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationProcessor</code>. The class can be named or placed where you like, this is only a suggestion. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationProcessor</span> : IInstantiationProcessor
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task DataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Note that you might have to add the async keyword if they aren&rsquo;t added by default. You only need to add them if you do async calls within your code.</li>
<li>Move all the code from <code>DataCreation</code> in <code>ÌnstantiationHandler.cs</code> into the method <code>DataCreation</code> in the class you just created.</li>
<li>Register <code>InstantiationProcessor</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationProcessor, InstantiationProcessor&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usings.</li>
</ol>
<p>If you have custom code in the method <code>RunInstantiationValidation</code> complete the steps below, if not delete <code>App/logic/InstantiationHandler.cs</code> and move on to <a href="#upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</a>:</p>
<ol>
<li>Create a new Class named <code>InstantiationValidator.cs</code> in <code>App/logic/Validation</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationValidator</code>. The class can be named or placed where you like, this is only a suggestion. 
The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models.Validation;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationValidator</span> : IInstantiationValidator
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;InstantiationValidationResult&gt; Validate(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move all the code from <code>RunInstantiationValidation</code> in <code>ÌnstantiationHandler.cs</code> into the method <code>Validate</code> in the class you just created.</li>
<li>Register <code>InstantiationValidator</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationValidator, InstantiationValidator&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usings.</li>
</ol>
<p>You can now delete the file <code>App/logic/InstantiationHandler.cs</code></p>
<h3 id="upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</h3>
<p>Custom data and task validation is in v7 handled by registering a service class implementing <code>Altinn.App.Core.Features.IInstanceValidator</code>.</p>
<p>If your <code>App/logic/Validation/ValidationHandler.cs</code> looks like the code below, you have no custom code and can delete the file and move on to <a href="#upgrading-custom-pdf-formatting-logic">Upgrading custom PdfFormatting</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Microsoft.AspNetCore.Http;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Microsoft.AspNetCore.Mvc.ModelBinding;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">ValidationHandler</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">private</span> IHttpContextAccessor _httpContextAccessor;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> ValidationHandler(IHttpContextAccessor httpContextAccessor = <span style="color:#ff79c6">null</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            _httpContextAccessor = httpContextAccessor;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task ValidateTask(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If you have custom code here complete the steps below:</p>
<ol>
<li>Create a new class named <code>InstanceValidator</code> in the folder <code>App/logic/Validation</code>, make the class implement the interface <code>Altinn.App.Core.Features.IInstanceValidator</code>. The file should now look something like this:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Microsoft.AspNetCore.Mvc.ModelBinding;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstanceValidator</span> : IInstanceValidator
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task ValidateData(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task ValidateTask(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code in <code>ValidateData</code> method in the old class <code>ValidatorHandler</code> to the new one in <code>InstanceValidator</code> class.</li>
<li>Move the code in <code>ValidateTask</code> method in the old class <code>ValidatorHandler</code> to the new one in <code>InstanceValidator</code> class.</li>
<li>Register <code>InstanceValidator</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstanceValidator, InstanceValidator&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usings.</li>
<li>Delete the ValidationHandler.cs file.</li>
</ol>
<h3 id="upgrading-custom-pdf-formatting-logic">Upgrading Custom PDF formatting logic</h3>
<p>In previous versions dynamic customization was handled by registering a service implementing ICustomPdfHandler. In v7 this is done by registering a service implementing <code>Altinn.App.Core.Features.Pdf.IPdfFormatter</code>.</p>
<p>If your <code>App/logic/Pdf/PdfHandler.cs</code> looks like the following code, you have no custom code and can delete the file and move on to <a href="#upgrading-pageordercs">Updating PageOrder logic</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Common.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.PlatformServices.Interface;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Print
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">PdfHandler</span>: ICustomPdfHandler
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;LayoutSettings&gt; FormatPdf(LayoutSettings layoutSettings, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> Task.FromResult(layoutSettings);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If not, complete the steps below:</p>
<ol>
<li>Create a new class named <code>PdfFormatter</code> in the folder <code>App/logic/Pdf</code>. Make the class implement the interface <code>Altinn.App.Core.Features.IPdfFormatter</code>. The file should new look something like this:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Print
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">PdfHandler</span>: IPdfFormatter
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;LayoutSettings&gt; FormatPdf(LayoutSettings layoutSettings, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }   
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move youre code from ICustomPdfHandler to the newly created PdfFormatter class.</li>
<li>Register <code>PdfFormatter</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IPdfFormatter, PdfFormatter&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usings.</li>
<li>Delete the old file</li>
<li>Remove the transient service registration of the old class from <code>Program.cs</code>. Should look something like this: <code>services.AddTransient&lt;ICustomPdfHandler, PdfHandler&gt;();</code> (remove it by deleteing the line)</li>
</ol>
<h3 id="upgrading-pageordercs">Upgrading PageOrder.cs</h3>
<p>In v5 of the nugets tracks or pageorder was extracted in a non-breaking way from App.cs. The old way was deprecated in v6 and now removed in v7.</p>
<p>The new way of defining page order in v5 has not really changed in v7, but some interfaces have been moved to a different namespace.</p>
<p>If you don&rsquo;t have any classes implementing IPageOrder, you can safely move on to <a href="#moving-code-from-appcs-and-removing-it">Moving code form App.cs and removing it</a></p>
<p>If you do have a class implementing IPageOrder here are some changes in namespace that might be helpful to know:</p>
<ul>
<li>The namespace for IPageOrder has changed from <strong>Altinn.App.Services.Interfaces</strong> to <code>Altinn.App.Core.Features.PageOrder</code></li>
<li>The namespace for AppIdentifier has changed from <strong>Altinn.App.PlatformSerices.Models</strong> to <code>Altinn.App.Core.Models</code></li>
<li>The namespace for IAppResources has changed from <strong>Altinn.App.PlatformSerices.Interface</strong> <code>Altinn.App.Core.Interface</code></li>
</ul>
<h2 id="moving-eformidling-code">Moving eFormidling code</h2>
<p>This next chapter only applies to applications which integrates with eFormidling. If yours don&rsquo;t you can move on to <a href="#moving-code-from-appcs-and-removing-it">Moving code from App.cs and removing it</a></p>
<p>To determine if your app is integrated against eFormidling, check if you have defined the method <code>GenerateEFormidlingMetadata</code> defined in <code>App/logic/App.cs</code></p>
<h3 id="move-code-from-generateeformidlingmetadata-in-appcs">Move code from GenerateEFormidlingMetadata in App.cs</h3>
<ol>
<li>Create a new class named <code>EFormidlingMetadata</code> in the folder <code>App/logic/EFormidling</code>. You can name and place the file whatever and wherever you like, this is just a suggestion. Make the newly created class implement the interface <code>Altinn.App.Core.EFormidling.Interface.IEFormidlingMetadata</code>. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.IO;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.EFormidling.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.logic.EFormidling;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">EFormidlingMetadata</span> : IEFormidlingMetadata
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> Task&lt;(<span style="color:#8be9fd">string</span> MetadataFilename, Stream Metadata)&gt; GenerateEFormidlingMetadata(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code from the method <code>GenerateEFormidlingMetadata</code> in <code>App/logic/App.cs</code> to the method <code>GenerateEFormidlingMetadata</code> in the class you just created.</li>
</ol>
<h3 id="move-code-from-geteformidlingreceivers-in-appcs">Move code from GetEFormidlingReceivers in App.cs</h3>
<p>If you have no definition of <code>GetEFormidlingReceivers</code> in <code>App/logic/App.cs</code>, you can move on to <a href="#register-eformidling-implementation">Register Eformidling implementation</a>. If it is defined complete the following steps:</p>
<ol>
<li>Create a new class named <code>EFormidlingReceivers</code>in <code>App/logic/EFormidling</code>. You can name and place the file whatever and wherever you like, this is just a suggestion. Make the new class implement the interface <code>Altinn.App.Core.EFormidling.Interface.IEFormidlingReceivers</code>. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.EFormidling.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Common.EFormidlingClient.Models.SBD;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.logic.EFormidling;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">EFormidlingReceivers</span> : IEFormidlingReceivers
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> Task&lt;List&lt;Receiver&gt;&gt; GetEFormidlingReceivers(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code from the method <code>GetEFormidlingReceivers</code> in <code>App/logic/App.cs</code> to the method <code>GetEformidlingReceivers</code> in the class you just created.</li>
</ol>
<h3 id="register-eformidling-implementation">Register Eformidling implementation</h3>
<p>This step depends on the previous steps. Whether your code has custom logic for GetEFormidlingReceivers or not.</p>
<p>In the method <code>RegisterCustomAppServices</code> in <code>Program.cs</code> you need to register the eFormidling implementation.</p>
<p>To add eFormidling services and your implementation <code>EFormidlingMetadata</code> add this to your <code>RegisterCustomAppServices</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    services.AddEFormidlingServices&lt;EFormidlingMetadata&gt;(config);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This will register the default implementation of <a href="https://github.com/Altinn/app-lib-dotnet/blob/chore/90-appbase-simplified/src/Altinn.App.Core/EFormidling/Implementation/DefaultEFormidlingReceivers.cs">IEFormidlingReceivers</a></p>
<p>If you have a custom implementation of <code>IEFormidlingReceivers</code> you should add your implementation as the second type parameter:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    services.AddEFormidlingServices&lt;EFormidlingMetadata, EFormidlingReceivers&gt;(config);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="moving-code-from-appcs-and-removing-it">Moving code from App.cs and removing it</h2>
<p>As we are going to extract code from App.cs and eventually remove it, there is no need to pay attention to compilation error.</p>
<p>The next sections will extract custom code from App.cs, if any, and move it to its new home.</p>
<h3 id="moving-custom-code-in-runprocessdataread-and-runprocessdatawrite">Moving custom code in RunProcessDataRead and RunProcessDataWrite</h3>
<p>If <code>RunProcessDataRead</code> and <code>RunProcessDataWrite</code> in <code>App/App.cs</code> looks like the code below, you have no custom code and can safely move on to <a href="#moving-custom-code-in-rundatavalidation-and-runtaskvalidation">Moving custom code in RunDataValidation and RunTaskValidation</a>. If not, complete the steps below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">override</span> <span style="color:#ff79c6">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; RunProcessDataRead(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> _dataProcessingHandler.ProcessDataRead(instance, dataId, data);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">override</span> <span style="color:#ff79c6">async</span> Task&lt;<span style="color:#8be9fd">bool</span>&gt; RunProcessDataWrite(Instance instance, Guid? dataId, <span style="color:#8be9fd">object</span> data)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> _dataProcessingHandler.ProcessDataWrite(instance, dataId, data);
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><ol>
<li>Move custom code in <code>RunProcessDataRead</code> to the method <code>ProcessDataRead</code> in <code>App/logic/DataProcessing/DataProcessor.cs</code> that was created and registered in the step <a href="#upgrade-and-register-dataprocessinghandler">Upgrade and register DataProcessingHadler</a></li>
<li>Move custom code in <code>RunProcessDataWrite</code> to the method <code>ProcessDataWrite</code> in <code>App/logic/DataProcessing/DataProcessor.cs</code></li>
</ol>
<h3 id="moving-custom-code-in-rundatavalidation-and-runtaskvalidation">Moving custom code in RunDataValidation and RunTaskValidation</h3>
<p>If <code>RunDataValidation</code>and <code>RunTaskValidation</code> looks like the code below, you have no custom code and can safely move on to <a href="#moving-custom-code-in-rundatacreation">Moving custom code in RunInstantiationValidation and RunDataCreation</a>. If not, complete the steps below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">override</span> <span style="color:#ff79c6">async</span> Task RunDataValidation(<span style="color:#8be9fd">object</span> data, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> _validationHandler.ValidateData(data, validationResults);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">override</span> <span style="color:#ff79c6">async</span> Task RunTaskValidation(Instance instance, <span style="color:#8be9fd">string</span> taskId, ModelStateDictionary validationResults)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> _validationHandler.ValidateTask(instance, taskId, validationResults);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>Move custom code in <code>RunDataValidation</code> to the method <code>ValidateData</code> in <code>App/logic/Validation/InstanceValidator.cs</code> that you created and registered here <a href="#upgrade-validationhandlercs-and-register-new-service">Upgrade ValidationHandler.cs and register new service</a>.</li>
<li>Move custom code in <code>RunTaskValidation</code> to the method <code>ValidateTask</code> in <code>App/logic/Validation/InstanceValidator.cs</code></li>
</ol>
<h3 id="moving-custom-code-in-rundatacreation">Moving custom code in RunDataCreation</h3>
<p>If <code>RunDataCreation</code> looks like the code below you have no custom code and can safely move on to <a href="#moving-custom-code-in-runinstantiationvalidation">Moving custom code in RunInstantiationValidation</a>. If not, complete the steps below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">override</span> <span style="color:#ff79c6">async</span> Task RunDataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> _instantiationHandler.DataCreation(instance, data, prefill);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>If you haven&rsquo;t already: Create a new class named <code>InstantiationProcessor.cs</code> in <code>App/logic/DataProcessing</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationProcessor</code>. The class can be named or placed where you like, this is only a suggestion. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.DataProcessing;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationProcessor</span> : IInstantiationProcessor
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task DataCreation(Instance instance, <span style="color:#8be9fd">object</span> data, Dictionary&lt;<span style="color:#8be9fd">string</span>, <span style="color:#8be9fd">string</span>&gt; prefill)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move custom code in <code>DataCreation</code> to the method <code>DataCreation</code> in <code>App/logic/DataProcessing/InstantiationHandler.cs</code> that you created and registered here <a href="#replace-instantiationhandlercs-and-register-new-service">Replace InstantiationHandler.cs and register new service</a></li>
<li>Register <code>InstantiationProcessor</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationProcessor, InstantiationProcessor&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usings.</li>
</ol>
<h3 id="moving-custom-code-in-runinstantiationvalidation">Moving custom code in RunInstantiationValidation</h3>
<p>If <code>RunInstantiationValidation</code> looks like the code below, you have no custom code and can safely move on to <a href="#moving-custom-code-in-runprocesstaskend">Moving custom code in RunProcessTaskEnd</a>. If not, complete the steps below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">override</span> <span style="color:#ff79c6">async</span> Task&lt;InstantiationValidationResult&gt; RunInstantiationValidation(Instance instance)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">await</span> _instantiationHandler.RunInstantiationValidation(instance);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>If you haven&rsquo;t already: Create a new Class named <code>InstantiationValidator.cs</code> in <code>App/logic/Validation</code> and implement the interface <code>Altinn.App.Core.Features.IInstantiationValidator</code>. The class can be named or placed wherever you like, this is only a suggestion. 
The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models.Validation;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.Validation;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">InstantiationValidator</span> : IInstantiationValidator
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;InstantiationValidationResult&gt; Validate(Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move all the code from <code>RunInstantiationValidation</code> in <code>ÌnstantiationHandler.cs</code> into the method <code>Validate</code> in the class you just created.</li>
<li>Register <code>InstantiationValidator</code>  in the method <code>RegisterCustomAppServices</code> <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span> <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  services.AddTransient&lt;IInstantiationValidator, InstantiationValidator&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>Remember to add the necessary usings.</li>
</ol>
<h3 id="moving-custom-code-in-runprocesstaskend">Moving custom code in RunProcessTaskEnd</h3>
<p>If <code>RunProcessTaskEnd</code> looks like the code below, you have no custom code and can safely move on to <a href="#moving-custom-code-in-getpageorder">Moving custom code in GetPageOrder</a>. If not, complete the steps below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">override</span> <span style="color:#ff79c6">async</span> Task RunProcessTaskEnd(<span style="color:#8be9fd">string</span> taskId, Instance instance)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">await</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ol>
<li>Create a new class implementing the Interface <code>Altinn.App.Core.Features.IProcessTaskEnd</code>. You can name and place this class wherever you like, but as a suggestion you can create and place it in the folder <code>App/logic/TaskProcessors</code> and name the file TaskProcessor.
The class should look something like this after the interface is implemented:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.Platform.Storage.Interface.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.TaskProcessors;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">ProcessTaskEnd</span>: IProcessTaskEnd
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> Task End(<span style="color:#8be9fd">string</span> taskId, Instance instance)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> Task.CompletedTask;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move code from <code>RunProcessTaskEnd</code> to the method <code>End</code> in the class implementing IProcessTaskEnd</li>
<li>Register your custom implementation of <code>IProcessTaskEnd</code> in the method <code>RegisterCustomAppServices</code> inside <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>   services.AddTransient&lt;IProcessTaskEnd, ProcessTaskEnd&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div>Remember to add the necessary usings.</li>
</ol>
<h3 id="moving-custom-code-in-getpageorder">Moving custom code in GetPageOrder</h3>
<p>If <code>GetPageOrder</code> in <code>App/logic/App.cs</code> is not present, you have no custom code and can safely move on the <a href="#removing-appcs">Removing App.cs</a>. If not, complete the steps below:</p>
<ol>
<li>Create a new class implementing the interface <code>Altinn.App.Core.Features.IPageOrder</code>. You can name and place this class wherever you like in your project, but a suggestion is to name it <code>PageOrder</code> and place it in the folder <code>App/logic/PageOrder</code>. The file should look something like this now:
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> System.Threading.Tasks;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Models;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Features;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Interface;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">using</span> Altinn.App.Core.Models;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">namespace</span> Altinn.App.AppLogic.PageOrder;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">public</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">PageOrder</span> : IPageOrder
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">public</span> <span style="color:#ff79c6">async</span> Task&lt;List&lt;<span style="color:#8be9fd">string</span>&gt;&gt; GetPageOrder(AppIdentifier appIdentifier, InstanceIdentifier instanceIdentifier, <span style="color:#8be9fd">string</span> layoutSetId, <span style="color:#8be9fd">string</span> currentPage, <span style="color:#8be9fd">string</span> dataTypeId, <span style="color:#8be9fd">object</span> formData)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>Move the code from <code>GetPageOrder</code> to the mehod <code>GetPageOrder</code> in the class you just created.</li>
<li>Register your custom implementation of <code>IPageOrder</code> in the mehtod <code>RegisterCustomAppServices</code> inside <code>App/Program.cs</code>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  <span style="color:#ff79c6">void</span> RegisterCustomAppServices(IServiceCollection services, IConfiguration config)
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>   services.AddTransient&lt;IPageOrder, PageOrder&gt;();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#6272a4">// Other custom services</span>
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div>Remember to add the necessary usings.</li>
</ol>
<h3 id="removing-appcs">Removing App.cs</h3>
<p>Now all your custom code should be moved out of App.cs. Take a look in the file and check if there is any code left that you need to move.</p>
<p>See the old default <code>App.cs</code> <a href="https://github.com/Altinn/app-template-dotnet/blob/5bcad2d485b3806b127604f2434d3ab833a7d142/src/App/logic/App.cs">here</a></p>
<p>If you don&rsquo;t see any code worth keeping, go ahead and delete the file App.cs. All the logic Altinn used to have in this file, is moved elsewhere in our code and should not leak into your application code.</p>
<h2 id="noteable-namespace-changes">Noteable namespace changes</h2>
<p>This is truly not a complete list of alle the changes to namespace we have done in v7, for that see the actual PR on <a href="">Github</a></p>
<p>The following list is some of the namespaces that have changed that we think will affect most of the applications:</p>
<ul>
<li>Interfaces that service owners naturally overrides/customize is moved from <code>Altinn.App.PlatformServices.Interfaces</code> to <code>Altinn.App.Core.Features</code></li>
<li><code>Altinn.App.Common.Models</code> namespace is moved to <code>Altinn.App.Core.Models</code></li>
<li><code>Altinn.App.PlatformServices.Interface.ICustomPdfHandler</code> interface is moved and renamed to: <code>Altinn.App.Core.Features.Pdf.IPdfFormatter</code></li>
</ul>
<h2 id="recomended-plugin-for-visual-studio-code">Recomended plugin for Visual Studio Code</h2>
<p>There are a lot of changes to namespaces so we strongly recommend using Visual Studio Code with the C# plugin installed. This will give you code help for importing and locating new or changed interfaces.</p>
<p>Plugin information:<br/>
Name: <em>C#</em><br/>
Id: <em>ms-dotnettools.csharp</em><br/>
Description: <em>C# for Visual Studio Code (powered by OmniSharp).</em><br/>
Publisher: <em>Microsoft</em><br/>
VS Marketplace Link: <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp">https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp</a></p>


<footer class=" footline" ></footer>
                </div>
              </div>
              

            </div><div id="top-github-link">
                  <a class="" href="https://github.com/altinn/altinn-studio-docs/blob/master/content/community/changelog/app-nuget/v7/breaking-changes/_index.nb.md" target="blank">
                    <i class="fa fa-code-fork"></i>
                    Endre denne siden i GitHub
                  </a>
                </div></section>
        </div> 
      </div> 
    </div>
    </div> <footer class="adocs-footer">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul>
                    <li>
                        <a href="https://www.altinn.no/om-altinn/">Om Altinn</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio/issues">Backlog</a>
                    </li>
                    <li>
                        <a href="https://altinn.slack.com">Slack</a>
                    </li>
                    <li>
                        <a href="https://github.com/Altinn/altinn-studio">GitHub</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js"></script>
    <script src="/js/html5shiv-printshiv.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom.71422.js"></script>
    <script src="/js/altinninfoportal.js"></script>
    <script src="/js/altinndocs.js"></script>
    <script src="/js/altinndocs-learn.js"></script>
    <script src="/js/stickysidebar/rAF.js"></script>
    <script src="/js/stickysidebar/ResizeSensor.js"></script>
    <script src="/js/stickysidebar/sticky-sidebar.js"></script>

    <script>
      var a = new StickySidebar('#sidebar', {
        topSpacing: 20,
        bottomSpacing: 60,
        containerSelector: '.adocs-scrollcontainer',
        innerWrapperSelector: '.sidebar__inner',
        minWidth: 768
      });
    </script>
    <link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
<script src="/js/custom.js"></script></body>
</html>

